<!DOCTYPE html>
<html>
<head>
    <script src="https://code.jquery.com/jquery-3.5.1.js"
            integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
            crossorigin="anonymous"></script>
    <meta charset="utf-8" />
    <link href="css/pwa.css" rel="stylesheet" />
    <script src="js/pwa.js"></script>
    <script src="js/signalr/dist/browser/signalr.min.js"></script>

    <script>
        $(document).ready(function () {
            var startDate, delay;

            const hubConnection = new signalR.HubConnectionBuilder()
                .withUrl("/chat")
                .build();

            $("#btnSend").click(function () {
                let message = $("#message").val();
                startDate = (new Date()).getTime();
                hubConnection.invoke("Send", message);
            });

            hubConnection.on("Send", function (data) {
                delay = (new Date()).getTime() - startDate;
                $("#chat").text(data+". Delay in milisec is: " + delay);
            });

            hubConnection.start();
        });
    </script>


    <title></title>
</head>
<body>
    <div id="text1">Tic-tac toe</div>
    <div class="chooseGrid">
        <div class="arrow number" id="leftArr"><</div>
        <div class="number" id="gridSide">3</div>
        <div class="arrow number" id="rightArr">></div>
    </div>
    <div id="theBiggest">
        <div class="chooseGrid">
            <div id="chat" class="arrow number"></div><p></p>
            <input type="text" id="message" class="arrow"/><p></p>
            <div id="btnSend" class="arrow number">Send</div>

            <div id="root"></div>
            <div id="restart">Restart</div>
            <div id="winnerName"></div>
        </div>
    </div>
</body>
</html>